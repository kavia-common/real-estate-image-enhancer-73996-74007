{"is_source_file": true, "format": "Python", "description": "This file defines a StorageService class that abstracts storage operations (save and delete) across different backends, namely local filesystem and S3. It handles configuration settings, directory creation, and simulates S3 URL generation.", "external_files": ["src.core.config", "pathlib", "typing.BinaryIO"], "external_methods": ["src.core.config.get_settings"], "published": ["StorageService"], "classes": [{"name": "StorageService", "description": "Provides an interface for saving and deleting files across different storage backends (local filesystem and S3)."}], "methods": [{"name": "__init__(self)", "description": "Initializes the StorageService, setting up local storage directory if backend is local.", "scope": "StorageService", "scopeKind": "class"}, {"name": "str save(self, fileobj: BinaryIO, filename: str, subdir: str = \"\")", "description": "Saves a file object to the storage backend and returns a URL or path for access.", "scope": "StorageService", "scopeKind": "class"}, {"name": "None delete(self, key_or_path: str)", "description": "Attempts to delete a stored file identified by its path or key.", "scope": "StorageService", "scopeKind": "class"}], "calls": ["Path", "settings.STORAGE_BACKEND", "settings.LOCAL_STORAGE_PATH", "Path.mkdir", "open", "fileobj.read", "Path.exists", "Path.unlink"], "search-terms": ["storage backend", "local storage directory", "S3 URL generation", "file save and delete", "storage abstraction", "backend configuration"], "state": 2, "file_id": 10, "knowledge_revision": 48, "git_revision": "88c5ba4de220789a15ea6af7b021ff2f54ced984", "revision_history": [{"22": ""}, {"48": "88c5ba4de220789a15ea6af7b021ff2f54ced984"}], "ctags": [{"_type": "tag", "name": "StorageService", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/services/storage.py", "pattern": "/^class StorageService:$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/services/storage.py", "pattern": "/^    def __init__(self):$/", "language": "Python", "kind": "member", "signature": "(self)", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "delete", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/services/storage.py", "pattern": "/^    def delete(self, key_or_path: str) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, key_or_path: str)", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "save", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/services/storage.py", "pattern": "/^    def save(self, fileobj: BinaryIO, filename: str, subdir: str = \"\") -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "member", "signature": "(self, fileobj: BinaryIO, filename: str, subdir: str = \"\")", "scope": "StorageService", "scopeKind": "class"}, {"_type": "tag", "name": "settings", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/services/storage.py", "pattern": "/^settings = get_settings()$/", "language": "Python", "kind": "variable"}], "hash": "8bb77ee354de883d7cb37b2fe604f9d0", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/services/storage.py", "fields": [{"name": "settings = get_settings()", "scope": "", "scopeKind": "", "description": "unavailable"}]}
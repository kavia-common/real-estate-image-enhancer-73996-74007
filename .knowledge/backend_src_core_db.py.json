{"is_source_file": true, "format": "Python", "description": "This file defines database initialization and management functions using SQLAlchemy's async API. It includes creating and disposing of the engine, setting up session factories, and providing an async generator for database sessions, serving as the core database setup module.", "external_files": ["src/core/config.py"], "external_methods": ["get_settings"], "published": ["init_db", "dispose_db", "get_db"], "classes": [{"name": "Base", "description": "Base class for SQLAlchemy models, inheriting from DeclarativeBase."}], "methods": [{"name": "init_db()", "description": "Initializes the async database engine and session factory based on settings, handling URL adjustments.", "scope": "", "scopeKind": ""}, {"name": "dispose_db()", "description": "Disposes of the async engine to clean up resources during shutdown.", "scope": "", "scopeKind": ""}, {"name": "AsyncGenerator[AsyncSession,None] get_db()", "description": "Async generator that provides database sessions for request handling.", "scope": "", "scopeKind": ""}], "calls": ["get_settings", "create_async_engine", "async_sessionmaker", "dispose", "_SessionFactory", "_engine"], "search-terms": ["SQLAlchemy", "asyncio", "database session", "async engine", "session factory", "PostgreSQL", "async database"], "state": 2, "file_id": 6, "knowledge_revision": 14, "git_revision": "", "ctags": [{"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/core/db.py", "pattern": "/^class Base(DeclarativeBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_engine", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/core/db.py", "pattern": "/^_engine = None$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "dispose_db", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/core/db.py", "pattern": "/^async def dispose_db():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/core/db.py", "pattern": "/^async def get_db() -> AsyncGenerator[AsyncSession, None]:$/", "language": "Python", "typeref": "typename:AsyncGenerator[AsyncSession,None]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "init_db", "path": "/home/kavia/workspace/code-generation/real-estate-image-enhancer-73996-74007/backend/src/core/db.py", "pattern": "/^async def init_db():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "6561f3f86ca4dfa513e18ccfd06fb3e5", "format-version": 4, "code-base-name": "backend", "filename": "backend/src/core/db.py", "fields": [{"name": "_engine = None", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"14": ""}]}